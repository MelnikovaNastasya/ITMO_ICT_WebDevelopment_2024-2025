{% extends 'tours/base.html' %}
{% block content %}
<div class="container mt-4">
  <h2 class="text-center mb-4 fw-bold">Список туров </h2>

  {% if tours %}
  <div class="row">
    {% for t in tours %}
    <div class="col-md-6 col-lg-4 mb-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-semibold">
            <a href="{% url 'tour_detail' t.id %}" class="text-decoration-none text-dark">
              {{ t.name }}
            </a>
          </h5>
          <p class="text-muted mb-1"><strong>Агентство:</strong> {{ t.agency }}</p>
          <p class="text-muted mb-1"><strong>Период:</strong> {{ t.start_date }} — {{ t.end_date }}</p>
          <p class="small text-secondary">{{ t.description|truncatechars:100 }}</p>
        </div>
        <div class="card-footer bg-white border-0 text-end">
          {% if user.is_authenticated %}
            <a href="{% url 'reserve_tour' t.id %}" class="btn btn-success btn-sm">Забронировать</a>
          {% else %}
            <a href="{% url 'login' %}" class="btn btn-outline-secondary btn-sm">Войти, чтобы забронировать</a>
          {% endif %}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
    <div class="alert alert-info text-center">Пока туров нет </div>
  {% endif %}
</div>
{% endblock %}


